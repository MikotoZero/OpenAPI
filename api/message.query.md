# message.query

查询指定 vchannel 下的消息列表。

## 请求方式

```
POST {base_url}/message.query
```

## 请求参数

**需要登录**

| 参数名称 | 参数类型 | 参数是否必须？ | 说明 | 样例 |
|:--------:|:--------:|:--------------:|------|------|
| `vchannel_id` | `string` | 是 | 待查询 vchannel_id | =bw52O |
| `query` | `string` | 是 | 消息查询 payload |  |

```json
// latest
{
  "vchannel_id": "=bw52O",
  "query": {
    "latest": {
      "limit": 10
    }
  }
}

// since
{
  "vchannel_id": "=bw52O",
  "query": {
    "since": {
      "ts": 1485236262366
    }
  }
}
```

## 响应

### 200

```json
{
  "messages": [
    {
      "key": "1485236262366.0193",
      "updated": "2017-01-24T13:37:42.000+0000",
      "is_channel": false,
      "uid": "=bw52O",
      "fallback": null,
      "attachments": [],
      "thread_key": null,
      "created": "2017-01-24T13:37:42.000+0000",
      "vchannel_id": "=bw52O",
      "refer_key": null,
      "robot_id": null,
      "created_ts": 1485236262366,
      "team_id": "=bw52O",
      "subtype": "normal",
      "text": "hello"
    }
  ]
}
```
### 错误响应

```json
{
  "code": // error code,
  "error": "unexpected error"
}
```

<!-- generated by gen_doc.js -->
